<div class="wrapper">
  <div class="header">
    <mat-toolbar>
      <mat-slide-toggle checked (click)="toggleDarkTheme()"
        >DARK THEME</mat-slide-toggle
      >
    </mat-toolbar>
  </div>
  <div class="main__container">



    <button (click)="load()">Load</button>

    <!-- <h3>Inline</h3>
    <div class="flex items-center">
      <p>Some data:</p>
      <p *skeleton="isLoading; height: '200px'; width: '100%'">
        Implementing a Loading Skeleton in Angular
      </p>
    </div>

    <h3>Standalone</h3>
    <section class="flex mb-2">
      <ng-container
        *skeleton="isLoading; repeat: 5; className: 'mr-2'; height: '100px'"
      >
        <div *ngFor="let num of [1, 2, 3, 4, 5]" class="mr-2">
          {{ num }}
        </div>
      </ng-container>
    </section>

    <h3>Random Width</h3>
    <ng-container
      *skeleton="
        isLoading;
        repeat: 5;
        className: 'mb-2';
        height: '30px';
        width: 'rand'
      "
    >
      <div *ngFor="let num of [1, 2, 3, 4, 5]">
        {{ num }}
      </div>
    </ng-container> -->


  <ng-container *ngIf='showFirstScreen$$ | async; else quizMain'>
    <div class="start-page" >
      <h1 class="start-page__header">–£–∑–Ω–∞–π —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–∏–∑–∞–π–Ω–∞ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞ –ø–æ–¥ –∫–ª—é—á</h1>
      <h3 class="start-page__subheader">–ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –∏ –ø–æ–ª—É—á–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å–∫–∏–¥–∫—É –∏ –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–±–æ—Ç —Å—Ç—É–¥–∏–∏ </h3>
      <button mat-flat-button color="primary" class="start-page__btn" (click)="startClick()">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç</button>
    </div>
  </ng-container>

  <ng-template #quizMain>
    <ng-container *ngIf='showQuiz$$ | async; else finalPage'>
      <div class="quiz">
        <div *ngFor="let item of quizList">
          <form [formGroup]="quiz" class="quiz__body"
          *ngIf="slideIndex$$.getValue() == item.id">

            <h2 class="quiz__title">{{item.title}}</h2>

            <ul class="quiz-list quiz-list__radio">
              <ng-container *ngIf="item.type == 'radio'">
                <li class="quiz-list__item quiz-list__item-radio" *ngFor="let i of item.options">
                  <label class="radio" *skeleton="isLoading; height: '300px'; width: '100%'">
                    <input type="radio" name="{{i.control}}" value="{{i.price}}"
                    formControlName="{{i.control}}" (click)="selectItem()"/>
                    <span class="check"></span>
                    <img *ngIf="i.img" [src]="i.img" [alt]="i.name" />
                    <h4 class="quiz-list__item-title">{{i.name}}</h4>
                  </label>
                </li>
              </ng-container>
            </ul>

            <ul class="quiz-list quiz-list__text">
              <ng-container *ngIf="item.type == 'text'">
                <li class="quiz-list__item quiz-list__item-text" *ngFor="let i of item.options">
                  <label class="radio">
                    <input type="radio" name="{{i.control}}" value="{{i.price}}"
                    formControlName="{{i.control}}" (click)="selectItem()"/>
                    <span class="check"></span>
                    <img *ngIf="i.img" [src]="i.img" [alt]="i.name" />
                    <h4 class="quiz-list__item-title">{{i.name}}</h4>
                  </label>
                </li>
              </ng-container>
            </ul>

          </form>
        </div>

        <div class="quiz__footer">
          <div class="footer__inner">
            <button [disabled]="slideIndex$$.getValue() == 0" mat-stroked-button (click)="prevClick()">–ù–∞–∑–∞–¥</button>
            <button [disabled]="disableButton$$ | async" mat-flat-button color="primary" class="next-btn" (click)="nextClick()">–î–∞–ª–µ–µ</button>
          </div>

          <mat-chip-list aria-label="Result price">
            <span>–°–∫–∏–¥–∫–∞:</span>
            <mat-chip color="accent" selected>{{resultsPrice$$ | async}} —Ä—É–±–ª–µ–π</mat-chip>
          </mat-chip-list>

        </div>
      </div>

    </ng-container>

    <ng-template #finalPage>
        <ng-container *ngIf='showThankScreen$$ | async; else final'>
          <div class="thank-page">
            <div class="thank-page__col">
              <h2 class="title thank-page__title">–°–ø–∞—Å–∏–±–æ! üëè</h2>
              <h4 class="subtitle thank-page__subtitle">–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –æ—Ç–≤–µ—Ç—ã! –ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤–∞–º –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π E-mail.</h4>
            </div>
            <mat-chip-list class="discount-badge">
              <mat-chip color="accent" selected>–í–∞—à–∞ —Å–∫–∏–¥–∫–∞: {{resultsPrice$$ | async}} —Ä—É–±–ª–µ–π</mat-chip>
            </mat-chip-list>
          </div>
        </ng-container>

        <ng-template #final>
          <div class="final-page">
            <h1 class="final-page__title">
              –û—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω: –º—ã –∑–∞–∫—Ä–µ–ø–∏–º —Å–∫–∏–¥–∫—É –∑–∞ –≤–∞—à–∏–º –Ω–æ–º–µ—Ä–æ–º, –∞ —Ç–∞–∫–∂–µ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–º —Ä–∞—Å—á—ë—Ç –ø–æ–ª–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
            </h1>
            <h3 class="final-page__content">–°–∫–∏–¥–∫–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π!</h3>

            <mat-chip-list class="discount-badge">
              <mat-chip color="accent" selected>–í–∞—à–∞ —Å–∫–∏–¥–∫–∞: {{resultsPrice$$ | async}} —Ä—É–±–ª–µ–π</mat-chip>
            </mat-chip-list>

            <div class="form">
              <form [formGroup]="quizData">
                <mat-form-field appearance="outline">
                  <mat-label>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω</mat-label>
                  <input formControlName="userPhone" matInput placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>–í–≤–µ–¥–∏—Ç–µ –∏–º—è</mat-label>
                  <input formControlName="userName" matInput placeholder="–ò–º—è">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>–í–≤–µ–¥–∏—Ç–µ E-mail</mat-label>
                  <input formControlName="userEmail" matInput placeholder="E-mail">
                </mat-form-field>
                <div class="form__agreement">
                  <mat-checkbox></mat-checkbox>
                  <div>–° <a href="" target="_blank">–ü–æ–ª–æ–∂–µ–Ω–∏–µ–º –æ–± –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a> –∏
                    <a href="" target="_blank">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω –∏ —Å–æ–≥–ª–∞—Å–µ–Ω</div>
                  </div>
                <button mat-flat-button color="primary" class="final-page__btn" (click)="sendClick()">–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</button>

                <!-- <button mat-flat-button color="primary" class="final-page__btn" (click)="sendClick()">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button> -->

                <!-- <div class="lead-form__agreement">
                  <label class="b-checkbox checkbox">
                    <input type="checkbox" autocomplete="on" required="required" true-value="true" value="false">
                    <span class="check"></span>
                    <span class="control-label">
                    <span>–° <a href="" target="_blank">–ü–æ–ª–æ–∂–µ–Ω–∏–µ–º –æ–± –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a> –∏
                      <a href="" target="_blank">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω –∏ —Å–æ–≥–ª–∞—Å–µ–Ω</span>
                    </span>
                  </label>
                </div> -->

              </form>
            </div>
          </div>
        </ng-template>
    </ng-template>
  </ng-template>

  </div>
</div>
